<form class="form-horizontal" name="alertForm">

	<!-- group begin -->
	<option-list groups option-name ='group' option-model ="searchParams.group"></option-list>
	<!-- group End -->

	<!-- vehicle begin -->
	<div class="form-group">
    <label for="inputPassword" class="col-xs-12 col-sm-3 col-md-2 control-label">vehicle</label>
    <div class="col-xs-11 col-sm-7 col-md-6 padding-clear">
      <select name="fleet" class="form-control" ng-model="searchParams.fleet" ng-init="selected=''"
       ng-options="fleet.name for fleet in fleets" >
       	<option></option>
			</select>
    </div>
	</div>
	<!-- vehicle end -->

		<period-picker from-date="searchParams.ctm_gte" to-date="searchParams.ctm_lte" search="search">
	</period-picker>
	<!-- period end -->

	<!-- type begin -->
	<div class="form-group">
	  <label class="col-xs-12 col-sm-3 col-md-2 control-label">type</label>
		<div class="col-xs-11 col-sm-9 col-md-10 padding-clear">
			<div class="checkbox">
				<label>
					<input type="checkbox" ng-model="searchParams.typ_impact" ng-true-value="'G'">
						<span class="type-icon impact"></span>impact
				</label>
			</div>
			<div class="checkbox">
				<label>
					<input type="checkbox" ng-model="searchParams.typ_speed" ng-true-value="'V'">
						<span class="type-icon overspeed"></span>over speed
				</label>
			</div>
			<div class="checkbox">
				<label>
					<input type="checkbox" ng-model="searchParams.typ_geofence" ng-true-value="'I'">
						<span class="type-icon geofence"></span>geofence
				</label>
			</div>
			<div class="checkbox">
				<label>
					<input type="checkbox" ng-model="searchParams.typ_emergency" ng-true-value="'B'">
						<span class="type-icon emergency"></span>emergency
				</label>
			</div>
		</div>
	</div>
	<!-- type end -->
	
</form>

<!-- status begin -->
<div class="status">
	<div class="pull-left col-xs-12 col-sm-5 col-md-5">
		total : <strong>{{tablestate.pagination.totalItemCount}}</strong>
		<!--start : <strong>{{tablestate.pagination.start}}</strong>
		page : <strong>{{tablestate.pagination.currentPage}} / {{tablestate.pagination.numberOfPages}}</strong-->
	</div>
	<div class="pull-right col-xs-12 col-sm-7 col-md-7 align-right margin-t5 text-white">
		<span class="type-icon impact-white margin-l7"></span>{{eventTypeSummaries.impact}}
		<span class="type-icon overspeed-white margin-l7"></span>{{eventTypeSummaries.overspeed}}
		<span class="type-icon geofence-white margin-l7"></span>{{eventTypeSummaries.geofence}}
		<span class="type-icon emergency-white margin-l7"></span>{{eventTypeSummaries.emergency}}
	</div>
</div>
<!-- status end -->

<!-- table begin -->
<div id="monitor-alert-table-container" class="search-table">
	<table class="table table-striped table-hover" st-pagination-scroll st-table="items" st-pipe="search">
		<thead>
			<tr>
				<th>#</th>
				<th>Fleet</th>
				<th>Driver</th>
				<th>Geofence</th>
				<th>Occurred Time</th>
				<th>Type</th>
			</tr>
		</thead>
		<tbody>
			<tr ng-repeat="item in items" ng-class="{active : item.active}" ng-click="goTrip(item)">
				<td>{{item.no}}</td>
				<td>{{item.fid}}</td>
				<td>{{item.driver ? item.driver.name : ''}}</td>
				<td>{{item.geofence ? item.geofence.name : ''}}</td>
				<td>{{item.etm | date:'medium'}}</td>
				<td class="icon-td align-center">
					<span class="{{item.typeClass}}"></span>
				</td>
			</tr>
		</tbody>
	</table>
	<div ng-if="isLoading" class="loading"></div>
</div>
<!-- table end -->